------------------------------------------------------------------------------------
--------		SUITE OF PROGRAMS FOR UV-VIS SPECTRUM MODELLING	    --------
------------------------------------------------------------------------------------

Steps to run:
1. Compilation of fortran programs:

 $ ./compile.sh 

2. Optimization + Freq of system using gaussian09 and chosen method, for example:

#P PBE1PBE/VTZP	Opt Freq

3. Generation of set of geometries using Wigner distribution. For that,
   program NEWTONX will be used.
   Run in consecutive order:

 $ molden XXX.log          	 #<------ obtaining optimized geometry in .xyz 

 $ $NX/xyz2nx < opt_geom.xyz     #<------ transforming .xyz file into NEWTONX format 
			 		  Output: geom

 $ $NX/nxinp 			 #<------ generation of NEWTONX input for generation
       			 	          of initial conditions (follow instructions
       				  	  inside the program).
       				  	  Use geom and XXX.log files
			 		  Output: initqp_input

 $ $NX/initcond.pl > initcond.log   #<--- generate initial conditions. All of them 
       			          	  will be put in ./final_output file. 
					  Output: final_output

 $ ./convert_nx_xyz.x		 #<------ extract geometries from ./final_output and
       				  	  store them in separate files: gX_name.xyz.
       				  	  Follow instructions from the program.
       			          	  Moreover, snaps_name.xyz file will be pre-
       				  	  pared.
					  Output: gX_name.xyz, snaps_name.xyz

 $ molden snaps_name.xyz         #<------ vizualize the initial geometries with mol-
					  den.
			                   
3.5 If the system has some symmetry and one has to uniformly rotate it, to match 
    particular plane or axis, run the script invoking self-written fortran program:
    
 $ ./rotate_geometries.sh name nconf #<-- run the script for rotation   
					  Output: gX_name.xyz

4. Generate MOLCAS input files:
 $ ./generate_inps_molcas.sh	 #<------ edit the file with proper naming and temp-
					  late files.
					  edit the template files for particular
					  type of calculations 
					  Output: gX_name_method.inp

5. Run the MOLCAS jobs at your favourite cluster

6. Extract the RASSI data from .log files:
 $ ./extract_molcas.sh name nconf #<----- run the script for extraction. It will
					  also check, if the calculations finished
                                          properly.
				          Output: resX_name.dat

7. Calculation of spectra.

 $ ./semiclassical.x		 #<------ program calculating the UV-Vis spectrum
					  in the range of <E0;Ek>, with resolution
                                          of DE (everything in eV).
					  Output: spectr_name


input for semiclassical.x:
hgbr2                   !name
2 256                   !number of geometries, number of roots
3.0d0 8.0d0 0.001d0     !E0, EK, DE (eV)
0.01d0                  !delta -- width of gaussian primitive (eV)
1 300.0 1.000		!temperature correction : on(1) off(0), temperature (K), refraction index

8. Visualize results with your favourite program. Mine is gnuplot, of course.
 $ gnuplot
 gnuplot> plot 'spectr_name' u 1:2 w l title 'spectrum' 

